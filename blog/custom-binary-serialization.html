<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143311168-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-143311168-1');
  </script>
  <title>Custom Binary Serialization in C#</title>
  <meta name="author" content="Jean-Bernard Pellerin"/>
  <meta name="description" content="A method for serializing unmanaged C# types into a binary format. Very fast and allocates as little memory as possible."/>
  <meta name="generator" content="100% organic human"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://jbp.dev/blog/custom-binary-serialization.html"/>
  <link rel="license" href="https://jbp.dev/licenses.html"/>
  <link rel="stylesheet" href="https://jbp.dev/css/normalize.css"/>
  <link rel="stylesheet" href="https://jbp.dev/css/jeanbern.css"/>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
        {
            "@type": "Organization",
            "@id": "https://jbp.dev/#organization",
            "name": "jbp.dev",
            "url": "https://jbp.dev/",
            "sameAs": [
                "https://www.facebook.com/jbpellerin",
                "https://www.linkedin.com/in/jean-bernard-pellerin-026bbb23",
                "https://twitter.com/jeanbpellerin"
            ],
            "logo": {
                "@type": "ImageObject",
                "@id": "https://jbp.dev/#logo",
                "url": "https://jbp.dev/img/bird.jpg",
                "caption": "jbp.dev"
            },
            "image": {
                "@id": "https://jbp.dev/#logo"
            }
        },
        {
            "@type": "WebSite",
            "@id": "https://jbp.dev/#website",
            "url": "https://jbp.dev/",
            "name": "jbp.dev",
            "publisher": {
                "@id": "https://jbp.dev/#organization"
            }/*,
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://jbp.dev/?s={search_term_string}",
                "query-input": "required name=search_term_string"
            }*/
        },
        {
            "@type": "WebPage",
            "@id": "https://jbp.dev/blog/custom-binary-serialization.html#webpage",
            "url": "https://jbp.dev/blog/custom-binary-serialization.html",
            "inLanguage": "en",
            "name": "Custom Binary Serialization in C#",
            "isPartOf": {
                "@id": "https://jbp.dev/#website"
            },
            "about": {
                "@id": "https://jbp.dev/#organization"
            },
            "description": "A method for serializing unmanaged C# types into a binary format. Very fast and allocates as little memory as possible."
        }
    ]
}
  </script>
</head>
<body>

<header>
  <h2>
      JB's BLOG
  </h2>
</header>

<nav>
  <section>
    <header>
      <h2>Breadcrumb</h2>
    </header>
    <ol>
      <li>
        <a href="https://jbp.dev/index.html" title="jbp.dev - Homepage">Home</a>
      </li>
      <li>
        <a href="https://jbp.dev/blog/custom-binary-serialization.html" title="Custom Binary Serialization in C#">Blog - Custom Binary Serialization</a>
      </li>
    </ol>
  </section>
  <section>
    <header>
      <h2>DAWG series</h2>
    </header>
    <ol>
      <li>
        <a href="https://jbp.dev/blog/dawg-basics.html" title="Directed Acyclic Word Graphs - Part 1 - The Basics">The Basics</a>
      </li>
      <li>
        <a href="https://jbp.dev/blog/dawg-first-implementation.html" title="Directed Acyclic Word Graphs - Part 2 - First Implementation in C#">First Implementation in C#</a>
      </li>
      <li>
        Reducing DAWG memory footprint
      </li>
      <li>
        Using the DAWG to find spelling errors
      </li>
      <li>
        DAWG performance profiling - part 1
      </li>
      <li>
        Potential DAWG performance improvements
      </li>
      <li>
        Speedy DAWG
      </li>
      <li>
        DAWG performance profiling - part 2
      </li>
    </ol>
  </section>
  <section>
    <header>
      <h2>Other pages</h2>
    </header>
    <ul>
      <li>
        <a href="https://jbp.dev/licenses.html" title="About jbp.dev - Licenses">Licenses</a>
      </li>
      <li>
      <a href="http://jbp.dev/blog/custom-binary-serialization.html" title="Custom Binary Serialization in C#">Custom Binary Serialization in C#</a>
      </li>
    </ul>
  </section>
</nav>

<main>
<article>
  <header>
    <h1>Custom Binary Serialization in C#</h1>
  </header>
  
  <p>
    There are <a href="https://docs.microsoft.com/en-us/dotnet/standard/serialization/" title="Serialization in .NET">plenty of ways</a>
    to serialize your data in C#.
    I'm going to explore one of these, <a href="https://docs.microsoft.com/en-us/dotnet/standard/serialization/binary-serialization" title="Binary serialization">Binary serialization</a>,
    but instead of using .NET libraries, we're going to roll our own for fun. 
    Afterwards, I'll do some performance testing to see how it stacks up.
  </p>
  
  <p>
    In this article I'll be using .NET core 2.1 for
    <a href="https://docs.microsoft.com/en-us/dotnet/api/system.span-1?view=netstandard-2.1" title="Span<T> Struct">
      <code>Span&lt;T&gt;</code>
    </a>
    and the
    <a href="https://www.nuget.org/packages/System.Runtime.CompilerServices.Unsafe/" title="System.Runtime.CompilerServices.Unsafe">
      System.Runtime.CompilerServices.Unsafe
    </a>
    package.
    I'll also show a hacky work-around you can try for Framework 4.7, it's pretty bad.
  </p>
  
  
  
  <section>
    <header>
      <h3>Writing to a stream</h3>
    </header>
    <p>
    Under construction.
    </p>  
  </section>
  
</article>
</main>

<aside>
  <figure>
    <img src="https://jbp.dev/img/bird.jpg" alt="You caught me, I'm not a bird."/>
    <figcaption>Jean-Bernard Pellerin</figcaption>
  </figure>
  <p>
    LOOK AT ME!
  </p>
  <p>
    Contact:
    I can be reached <a href="mailto:jbp@jbp.dev">by email</a>.
  </p>
</aside>

<footer>
  <p>
    <b><a href="https://jbp.dev/licenses.html">Â© 2019 Jean-Bernard Pellerin</a></b>
  </p>
</footer>  

</body>
</html>